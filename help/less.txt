Инструкция по less

Основные команды:
less файл — открыть файл для просмотра
команда | less — просмотреть вывод команды
SPACE или f — следующая страница
b — предыдущая страница
ENTER или e — следующая строка
y или k — предыдущая строка
q — выход

Поиск:
/паттерн — поиск вперёд
?паттерн — поиск назад
n — следующее совпадение
N — предыдущее совпадение
&паттерн — показать только строки с паттерном

Навигация:
g или < — начало файла
G или > — конец файла
50% — перейти к 50% файла
10g — перейти к строке 10
:n — следующий файл
:p — предыдущий файл

Просмотр нескольких файлов:
less файл1 файл2 файл3 — несколько файлов
:n — следующий файл
:p — предыдущий файл
:x — первый файл

Маркеры:
mбуква — установить маркер (например ma)
'буква — перейти к маркеру (например 'a)

Редактирование:
v — открыть в редакторе (из переменной $VISUAL или $EDITOR)

Информация:
= — информация о файле (имя, строки, байты, позиция)
-i — игнорировать регистр при поиске
-I — игнорировать регистр при поиске, если паттерн в нижнем регистре

Отображение:
-N — показывать номера строк
-S — обрезать длинные строки (не переносить)
-r — показывать "сырые" управляющие символы
-R — показывать ANSI цветовые коды

Опции командной строки:
less -M — более подробная строка статуса
less -m — процентная строка статуса
less -J — подсветка в строке статуса
less -z N — изменить количество строк для прокрутки
less +F — режим слежения (как tail -f)
less +G — начать с конца файла

Режим слежения:
F — войти в режим слежения (forward forever)
Ctrl+C — выйти из режима слежения

Выделение поиска:
--hilite-search — подсвечивать найденный текст
-g — подсвечивать только текущее совпадение

Примеры:
less /var/log/syslog — просмотреть системный лог
dmesg | less — просмотреть вывод dmesg с прокруткой
less -N script.sh — просмотреть скрипт с номерами строк
less -S wide_file.csv — просмотреть CSV без переноса строк
less +100 file.txt — начать со строки 100
less -I +/error log.txt — найти "error" без учета регистра
ps aux | less -S — просмотреть процессы без переноса
history | less — просмотреть историю команд

Комбинации клавиш:
Ctrl+F — вперед на экран
Ctrl+B — назад на экран
Ctrl+D — вперед на пол-экрана
Ctrl+U — назад на пол-экрана
R — перерисовать экран
F — режим слежения
ESC-) или RIGHT ARROW — прокрутка вправо
ESC-( или LEFT ARROW — прокрутка влево

Строка команд:
: — ввести команду less
h — справка
H — расширенная справка

Перенаправление:
s файл — сохранить текущий файл в указанный файл
-o файл — логировать вывод less в файл

Шелл-команды:
!команда — выполнить shell команду
!! — повторить предыдущую shell команду

Специальные режимы:
-X — не очищать экран при выходе
-F — выйти если файл помещается на один экран
less -f — открыть бинарный файл

Просмотр сжатых файлов:
less файл.gz — автоматическая декомпрессия gzip
less файл.bz2 — автоматическая декомпрессия bzip2

Конфигурация:
~/.lesskey или ~/.less — конфигурационный файл
LESS — переменная окружения с опциями по умолчанию

Пример LESS переменной:
    export LESS="-i -M -R -X"

Отличие от more:
less — можно прокручивать назад, more — только вперед
less — более функциональный

Цветной вывод:
less -R — для цветного вывода (например, grep --color=always)

Советы:
    Используйте / для поиска вместо пролистывания
    &паттерн удобен для фильтрации логов
    -N полезен для просмотра кода
    +F заменяет tail -f с возможностью прокрутки
