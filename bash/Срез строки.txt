#!/bin/bash
# Срез строки

########## Срез строки ##########

text='Hello World'
echo "${text:1:-1}"

set -- 01234567890abcdefgh
echo ${1:7}

########## Срез текста до определенных букв (слов) ##########

if [ $# -ne 1 ]
  then echo "необходимо передать текст/буквы для среза"
  exit 0
fi

text="Hello World"              # основной текст, который нужно обрезать
result_before=${text%"$1"*}     # срез основного текста до переданного символа/слова
result_after=${text#*"$1"}      # срез основного текста после переданного символа/слова

echo "${text}"
echo "before: ${result_before}"
echo "after: ${result_after}"

########## Срез строки ##########

echo "usage: ${0##*/} namesfile datafile"  # Сценарий можно запустить командой ./scriptname

# Выражение ${MYVAL#img_} удалит символы img_, если с них начинается значение переменной MYVAL.
# Более сложный шаблон, ${MYVAL#*_}, удалит любую последовательность символов до подчеркивания включительно.

# Теперь, возможно, вы понимаете, что делает выражение ${0##*/}?
# Из значения в переменной $0 — пути к файлу сценария — слева будет удалена самая
# длинная последовательность любых символов, заканчивающаяся косой чертой, 
# т.е. все компоненты пути, и останется только имя самого сценария.

Значение $0             Выражение       Возвращаемый результат
./ascript               ${0#*/}         ascript
./ascript               ${0##*/}        ascript
../bin/ascript          ${0#*/}         bin/ascript
../bin/ascript          ${0##*/}        ascript
/home/guy/bin/ascript   ${0#*/}         home/guy/bin/ascript
/home/guy/bin/ascript   ${0##*/}        ascript
/home/user/bin/script   ${path##*/}     home/user/bin/script
/home/user/bin/script   ${path#/home}   /user/bin/script
/home/user/bin/script   ${path#*user}   /bin/script


